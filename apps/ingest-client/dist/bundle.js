(()=>{"use strict";var e={m:{},u:e=>e+".bundle.js"};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(t=r.currentScript.src),!t)){var i=r.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href;const t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,r=function(e){return"string"==typeof e&&t.test(e)};let i;const s=new Uint8Array(16);function n(){if(!i){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(s)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));const u={};function a(e,t,r,i,s=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(i){if(s<0||s+16>i.length)throw new RangeError(`UUID byte range ${s}:${s+15} is out of buffer bounds`)}else i=new Uint8Array(16),s=0;return t??=Date.now(),r??=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9],i[s++]=t/1099511627776&255,i[s++]=t/4294967296&255,i[s++]=t/16777216&255,i[s++]=t/65536&255,i[s++]=t/256&255,i[s++]=255&t,i[s++]=112|r>>>28&15,i[s++]=r>>>20&255,i[s++]=128|r>>>14&63,i[s++]=r>>>6&255,i[s++]=r<<2&255|3&e[10],i[s++]=e[11],i[s++]=e[12],i[s++]=e[13],i[s++]=e[14],i[s++]=e[15],i}const c=function(e,t,r){let i;if(e)i=a(e.random??e.rng?.()??n(),e.msecs,e.seq,t,r);else{const e=Date.now(),s=n();!function(e,t,r){e.msecs??=-1/0,e.seq??=0,t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++)}(u,e,s),i=a(s,u.msecs,u.seq,t,r)}return t?i:function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(i)};var h,l,f,d,S,g,p;function v(e){return!(void 0===e||"number"!=typeof e.event_type||"string"!=typeof e.id||!r(e.id)||7!=function(e){if(!r(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}(e.id))}!function(e){e[e.Visitor=1]="Visitor",e[e.Session=2]="Session",e[e.Section=3]="Section",e[e.Click=4]="Click"}(h||(h={}));class y{constructor(){this.event_type=h.Visitor,this.id=c()}toPublishEvent(){return{t:this.event_type,i:this.id,a:void 0}}}class m{constructor(e){this.event_type=h.Session,this.id=c(),this.parent=e}toPublishEvent(){const e={parent:this.parent.id};return{t:this.event_type,i:this.id,a:e}}}class R{constructor(e){this.event_type=h.Section,this.id=c(),this.parent=e}toPublishEvent(){const e={parent:this.parent.id};return{t:this.event_type,i:this.id,a:e}}}class b{constructor(e){this.event_type=h.Click,this.id=c(),this.parent=e}toPublishEvent(){const e={parent:this.parent.id};return{t:this.event_type,i:this.id,a:e}}}function E(e){return"number"==typeof e}!function(e){e[e.BadRequestError=0]="BadRequestError",e[e.ConfigurationError=1]="ConfigurationError",e[e.InternalError=2]="InternalError"}(l||(l={})),function(e){e[e.BadRequest=0]="BadRequest",e[e.ConfigurationError=1]="ConfigurationError",e[e.InternalError=2]="InternalError"}(f||(f={})),function(e){e[e.BadRequest=0]="BadRequest",e[e.ConfigurationError=1]="ConfigurationError",e[e.FetchError=2]="FetchError",e[e.InternalServerError=3]="InternalServerError",e[e.Timeout=4]="Timeout"}(d||(d={})),function(e){e[e.Invalid=0]="Invalid",e[e.InvalidApiKey=1]="InvalidApiKey",e[e.InvalidHost=2]="InvalidHost",e[e.Success=3]="Success"}(S||(S={})),function(e){e[e.InternalError=0]="InternalError",e[e.MalformedData=1]="MalformedData",e[e.NotFound=2]="NotFound"}(g||(g={})),function(e){e[e.ConfigureRequest=0]="ConfigureRequest",e[e.ConfigureResult=1]="ConfigureResult",e[e.PublishError=2]="PublishError",e[e.PublishRequest=3]="PublishRequest",e[e.PublishResult=4]="PublishResult"}(p||(p={}));const w="SALUS",I="VISITOR",P="SESSION";let C="abc-xyz",_=new class{constructor(e){if(e.trim().length<1)throw new TypeError("invalid empty api_key");this.api_key=e,this.section=void 0}clearSiteState(){return this.clearSection(),this.clearSession(),this.clearVisitor(),{visitor:void 0,session:void 0,section:void 0}}getSiteState(){const e=this.getVisitor();let t;if("number"==typeof e)return e;t=e;const r=this.getSession();let i;if("number"==typeof r)return r==g.MalformedData||r==g.InternalError?r:{visitor:t,session:void 0,section:void 0};i=r;const s=this.getSection();let n;if("number"==typeof s){if(s==g.MalformedData||s==g.InternalError)return s}else n=s;return{visitor:t,session:i,section:n}}setSiteState(e){const t=e.section;if(void 0===t)this.clearSection();else{const e=this.setSection(t);if(!v(e))return e}const r=e.session;if(void 0===r)this.clearSession();else{const e=this.setSession(r);if(!v(e))return e}const i=e.visitor;if(void 0===i)this.clearVisitor();else{const e=this.setVisitor(i);if(!v(e))return e}return e}getVisitor(){const e=[w,I,this.api_key].join("_"),t=localStorage.getItem(e);if(null==t)return g.NotFound;const r={id:t,event_type:h.Visitor};return v(r)?r:g.MalformedData}setVisitor(e){const t=[w,I,this.api_key].join("_");try{localStorage.setItem(t,e.id)}catch(e){return g.InternalError}return e}clearVisitor(){const e=[w,I,this.api_key].join("_");localStorage.removeItem(e)}getSession(){const e=[w,P,this.api_key].join("_"),t=sessionStorage.getItem(e);if(null==t)return g.NotFound;const r={id:t,event_type:h.Session};return v(r)?r:g.MalformedData}setSession(e){const t=[w,P,this.api_key].join("_");try{sessionStorage.setItem(t,e.id)}catch(e){return g.InternalError}return e}clearSession(){const e=[w,P,this.api_key].join("_");localStorage.removeItem(e)}getSection(){return null==this.section?g.NotFound:this.section}setSection(e){return this.section=e,this.section}clearSection(){this.section=void 0}}(C),q=new class{constructor(t,r){if(this.errorHandler=r,this.configurationState=void 0,function(e){if(e.api_key.trim().length<1)return S.InvalidApiKey;const t=URL.parse(e.host);return null==t||t.pathname.length>1||t.search.length>0||t.hash.length>0?S.InvalidHost:S.Success}(t)!=S.Success)throw null!=this.errorHandler&&this.errorHandler("Error constructing WorkerPublisherGateway - Invalid Configuration"),new Error("Invalid Event Publisher Configuration");this.promiseRegistry={},this.workerPublisher=new Worker(new URL(e.p+e.u(552),e.b)),this.workerPublisher.addEventListener("message",(e=>this.routeMessage(e))),this.workerPublisher.addEventListener("error",(e=>{null!=this.errorHandler&&this.errorHandler(e.message)})),this.postConfigRequest(t)}publish(e){const t=this.createPublishMessage(e);return new Promise(((e,r)=>{this.registerPublishPromise(t,{resolve:e,reject:r}),this.postPublishRequest(t)}))}routeMessage(e){const t=e.data;t.messageType==p.ConfigureResult?(this.configurationState=t.configurationState,this.configurationState!=S.Success&&null!=this.errorHandler&&this.errorHandler("Worker event publisher failed")):this.resolvePublish(t)}resolvePublish(e){const t=this.promiseRegistry[e.id];if(null==t){if(null!=this.errorHandler)return void this.errorHandler("Event Publish Result had no matching handlers in registry")}else e.messageType==p.PublishResult?t.resolve(e.result):t.reject(e.errorMessage),delete this.promiseRegistry[e.id]}createPublishMessage(e){return{id:c(),messageType:p.PublishRequest,events:e}}registerPublishPromise(e,t){this.promiseRegistry[e.id]=t}postPublishRequest(e){this.workerPublisher.postMessage(e)}postConfigRequest(e){const t={config:e,id:c(),messageType:p.ConfigureRequest};this.workerPublisher.postMessage(t)}}({api_key:C,host:"http://localhost:3000"},(e=>console.log(e))),V=new class{constructor(e,t){this.publisher=e,this.siteStateRepository=t,this.eventQueue=[],this.siteStateWriteBuffer=void 0}getSiteState(){if(null!=this.siteStateWriteBuffer)return this.siteStateWriteBuffer;const e=this.siteStateRepository.getSiteState();return E(e)?this.siteStateWriteBuffer={visitor:void 0,session:void 0,section:void 0}:this.siteStateWriteBuffer=e,this.siteStateWriteBuffer}writeSiteState(){let e;return e=null!=this.siteStateWriteBuffer?this.siteStateRepository.setSiteState(this.siteStateWriteBuffer):this.siteStateRepository.clearSiteState(),this.siteStateWriteBuffer=void 0,e}setVisitorReference(e){this.siteStateWriteBuffer={visitor:e,session:void 0,section:void 0}}setSessionReference(e){this.siteStateWriteBuffer={visitor:this.getSiteState().visitor,session:e,section:void 0}}setSectionReference(e){this.siteStateWriteBuffer={visitor:this.getSiteState().visitor,session:this.getSiteState().session,section:e}}flush(){if(E(this.writeSiteState()))return new Promise((e=>e(f.InternalError)));const e=this.publisher.publish(this.eventQueue.map((e=>e.toPublishEvent()))).then((e=>this.mapEventPublishResultToEventRegistryResult(e)));return this.eventQueue=[],e}mapEventPublishResultToEventRegistryResult(e){return"number"==typeof e?e==d.BadRequest?f.BadRequest:e==d.ConfigurationError?f.ConfigurationError:f.InternalError:e}registerVisitor(){return this.createVisitor(),this.flush()}deregisterVisitor(){return this.setVisitorReference(void 0),this.flush()}createVisitor(){const e=new y;return this.setVisitorReference(e),this.eventQueue.push(e),e}getOrCreateVisitorReference(){const e=this.getSiteState().visitor;return null!=e?e:this.createVisitor()}registerSession(){return this.createSession(),this.flush()}deregisterSession(){return this.setSessionReference(void 0),this.flush()}createSession(){const e=this.getOrCreateVisitorReference(),t=new m(e);return this.setSessionReference(t),this.eventQueue.push(t),t}getOrCreateSessionReference(){const e=this.getSiteState().session;return null!=e?e:this.createSession()}registerSection(){return this.createSection(),this.flush()}deregisterSection(){return this.setSectionReference(void 0),this.flush()}createSection(){const e=this.getOrCreateSessionReference(),t=new R(e);return this.setSectionReference(t),this.eventQueue.push(t),t}getOrCreateSectionReference(){const e=this.getSiteState().section;return null!=e?e:this.createSection()}registerClick(){return this.createClick(),this.flush()}createClick(){const e=this.getOrCreateSectionReference(),t=new b(e);return this.eventQueue.push(t),t}}(q,_);V.registerSection()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDhCQUNmSSxFQUFRLElBQUlySCxFQUFNUyxHQUV4QixPQURBNUYsS0FBS3dLLFdBQVdqSSxLQUFLaUssR0FDZEEsQ0FDVCxHRnRNa0NoRixFQUFTOUIsR0FFN0M0RSxFQUFhMkIsaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50L3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JlZ2V4LmpzIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjcuanMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9FdmVudC9FdmVudC50cyIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50Ly4vc3JjL0V2ZW50L0V2ZW50UmVnaXN0cnkudHMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9FdmVudFB1Ymxpc2hlci9FdmVudFB1Ymxpc2hlci50cyIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50Ly4vc3JjL1NpdGVTdGF0ZS9TaXRlU3RhdGUudHMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9FdmVudFB1Ymxpc2hlci9Xb3JrZXJNZXNzYWdlLnRzIiwid2VicGFjazovL2luZ2VzdC1jbGllbnQvLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9TaXRlU3RhdGUvV2ViU3RvcmFnZVNpdGVTdGF0ZVJlcG9zaXRvcnkudHMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9pbmdlc3QtY2xpZW50Ly4vc3JjL0V2ZW50UHVibGlzaGVyL1dvcmtlclB1Ymxpc2hlckdhdGV3YXkudHMiLCJ3ZWJwYWNrOi8vaW5nZXN0LWNsaWVudC8uL3NyYy9FdmVudE1hbmFnZXIvRXZlbnRNYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDc5MjogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtOF1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkL2k7XG4iLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7XG4iLCJsZXQgZ2V0UmFuZG9tVmFsdWVzO1xuY29uc3Qgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnIHx8ICFjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0UmFuZG9tVmFsdWVzID0gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gICAgfVxuICAgIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufVxuIiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuY29uc3QgYnl0ZVRvSGV4ID0gW107XG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gICAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnNsaWNlKDEpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bnNhZmVTdHJpbmdpZnkoYXJyLCBvZmZzZXQgPSAwKSB7XG4gICAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICtcbiAgICAgICAgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gK1xuICAgICAgICBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArXG4gICAgICAgICctJyArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICtcbiAgICAgICAgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICtcbiAgICAgICAgJy0nICtcbiAgICAgICAgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gK1xuICAgICAgICBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArXG4gICAgICAgICctJyArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArXG4gICAgICAgIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgICBjb25zdCB1dWlkID0gdW5zYWZlU3RyaW5naWZ5KGFyciwgb2Zmc2V0KTtcbiAgICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gICAgfVxuICAgIHJldHVybiB1dWlkO1xufVxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5jb25zdCBfc3RhdGUgPSB7fTtcbmZ1bmN0aW9uIHY3KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgbGV0IGJ5dGVzO1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGJ5dGVzID0gdjdCeXRlcyhvcHRpb25zLnJhbmRvbSA/PyBvcHRpb25zLnJuZz8uKCkgPz8gcm5nKCksIG9wdGlvbnMubXNlY3MsIG9wdGlvbnMuc2VxLCBidWYsIG9mZnNldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBybmRzID0gcm5nKCk7XG4gICAgICAgIHVwZGF0ZVY3U3RhdGUoX3N0YXRlLCBub3csIHJuZHMpO1xuICAgICAgICBieXRlcyA9IHY3Qnl0ZXMocm5kcywgX3N0YXRlLm1zZWNzLCBfc3RhdGUuc2VxLCBidWYsIG9mZnNldCk7XG4gICAgfVxuICAgIHJldHVybiBidWYgPyBieXRlcyA6IHVuc2FmZVN0cmluZ2lmeShieXRlcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlVjdTdGF0ZShzdGF0ZSwgbm93LCBybmRzKSB7XG4gICAgc3RhdGUubXNlY3MgPz89IC1JbmZpbml0eTtcbiAgICBzdGF0ZS5zZXEgPz89IDA7XG4gICAgaWYgKG5vdyA+IHN0YXRlLm1zZWNzKSB7XG4gICAgICAgIHN0YXRlLnNlcSA9IChybmRzWzZdIDw8IDIzKSB8IChybmRzWzddIDw8IDE2KSB8IChybmRzWzhdIDw8IDgpIHwgcm5kc1s5XTtcbiAgICAgICAgc3RhdGUubXNlY3MgPSBub3c7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5zZXEgPSAoc3RhdGUuc2VxICsgMSkgfCAwO1xuICAgICAgICBpZiAoc3RhdGUuc2VxID09PSAwKSB7XG4gICAgICAgICAgICBzdGF0ZS5tc2VjcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHY3Qnl0ZXMocm5kcywgbXNlY3MsIHNlcSwgYnVmLCBvZmZzZXQgPSAwKSB7XG4gICAgaWYgKHJuZHMubGVuZ3RoIDwgMTYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSYW5kb20gYnl0ZXMgbGVuZ3RoIG11c3QgYmUgPj0gMTYnKTtcbiAgICB9XG4gICAgaWYgKCFidWYpIHtcbiAgICAgICAgYnVmID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ICsgMTYgPiBidWYubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihgVVVJRCBieXRlIHJhbmdlICR7b2Zmc2V0fToke29mZnNldCArIDE1fSBpcyBvdXQgb2YgYnVmZmVyIGJvdW5kc2ApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1zZWNzID8/PSBEYXRlLm5vdygpO1xuICAgIHNlcSA/Pz0gKChybmRzWzZdICogMHg3ZikgPDwgMjQpIHwgKHJuZHNbN10gPDwgMTYpIHwgKHJuZHNbOF0gPDwgOCkgfCBybmRzWzldO1xuICAgIGJ1ZltvZmZzZXQrK10gPSAobXNlY3MgLyAweDEwMDAwMDAwMDAwKSAmIDB4ZmY7XG4gICAgYnVmW29mZnNldCsrXSA9IChtc2VjcyAvIDB4MTAwMDAwMDAwKSAmIDB4ZmY7XG4gICAgYnVmW29mZnNldCsrXSA9IChtc2VjcyAvIDB4MTAwMDAwMCkgJiAweGZmO1xuICAgIGJ1ZltvZmZzZXQrK10gPSAobXNlY3MgLyAweDEwMDAwKSAmIDB4ZmY7XG4gICAgYnVmW29mZnNldCsrXSA9IChtc2VjcyAvIDB4MTAwKSAmIDB4ZmY7XG4gICAgYnVmW29mZnNldCsrXSA9IG1zZWNzICYgMHhmZjtcbiAgICBidWZbb2Zmc2V0KytdID0gMHg3MCB8ICgoc2VxID4+PiAyOCkgJiAweDBmKTtcbiAgICBidWZbb2Zmc2V0KytdID0gKHNlcSA+Pj4gMjApICYgMHhmZjtcbiAgICBidWZbb2Zmc2V0KytdID0gMHg4MCB8ICgoc2VxID4+PiAxNCkgJiAweDNmKTtcbiAgICBidWZbb2Zmc2V0KytdID0gKHNlcSA+Pj4gNikgJiAweGZmO1xuICAgIGJ1ZltvZmZzZXQrK10gPSAoKHNlcSA8PCAyKSAmIDB4ZmYpIHwgKHJuZHNbMTBdICYgMHgwMyk7XG4gICAgYnVmW29mZnNldCsrXSA9IHJuZHNbMTFdO1xuICAgIGJ1ZltvZmZzZXQrK10gPSBybmRzWzEyXTtcbiAgICBidWZbb2Zmc2V0KytdID0gcm5kc1sxM107XG4gICAgYnVmW29mZnNldCsrXSA9IHJuZHNbMTRdO1xuICAgIGJ1ZltvZmZzZXQrK10gPSBybmRzWzE1XTtcbiAgICByZXR1cm4gYnVmO1xufVxuZXhwb3J0IGRlZmF1bHQgdjc7XG4iLCJpbXBvcnQgeyBQdWJsaXNoRXZlbnQgfSBmcm9tIFwiLi4vRXZlbnRQdWJsaXNoZXIvUHVibGlzaEV2ZW50XCI7XG5pbXBvcnQge1xuICB2NyBhcyB1dWlkdjcsXG4gIHZhbGlkYXRlIGFzIHV1aWRWYWxpZGF0ZSxcbiAgdmVyc2lvbiBhcyB1dWlkVmVyc2lvbixcbn0gZnJvbSBcInV1aWRcIjtcblxuZXhwb3J0IGNvbnN0IGVudW0gRXZlbnRUeXBlIHtcbiAgVmlzaXRvciA9IDEsXG4gIFNlc3Npb24gPSAyLFxuICBTZWN0aW9uID0gMyxcbiAgQ2xpY2sgPSA0LFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50UmVmZXJlbmNlIHtcbiAgcmVhZG9ubHkgZXZlbnRfdHlwZTogRXZlbnRUeXBlO1xuICByZWFkb25seSBpZDogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudFJlZmVyZW5jZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgRXZlbnRSZWZlcmVuY2Uge1xuICByZXR1cm4gIShcbiAgICB0eXBlb2YgdmFsdWUgPT0gXCJ1bmRlZmluZWRcIiB8fFxuICAgIHR5cGVvZiB2YWx1ZS5ldmVudF90eXBlICE9IFwibnVtYmVyXCIgfHxcbiAgICB0eXBlb2YgdmFsdWUuaWQgIT0gXCJzdHJpbmdcIiB8fFxuICAgICF1dWlkVmFsaWRhdGUodmFsdWUuaWQpIHx8XG4gICAgdXVpZFZlcnNpb24odmFsdWUuaWQpICE9IDdcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFdmVudCBleHRlbmRzIEV2ZW50UmVmZXJlbmNlIHtcbiAgdG9QdWJsaXNoRXZlbnQoKTogUHVibGlzaEV2ZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZpc2l0b3JFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgZXZlbnRfdHlwZTogRXZlbnRUeXBlLlZpc2l0b3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVmlzaXRvclJlZmVyZW5jZSBleHRlbmRzIEV2ZW50UmVmZXJlbmNlIHtcbiAgZXZlbnRfdHlwZTogRXZlbnRUeXBlLlZpc2l0b3I7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICBwYXJlbnQ6IFZpc2l0b3JSZWZlcmVuY2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblJlZmVyZW5jZSBleHRlbmRzIEV2ZW50UmVmZXJlbmNlIHtcbiAgZXZlbnRfdHlwZTogRXZlbnRUeXBlLlNlc3Npb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VjdGlvbkV2ZW50IGV4dGVuZHMgRXZlbnQge1xuICBldmVudF90eXBlOiBFdmVudFR5cGUuU2VjdGlvbjtcbiAgcGFyZW50OiBTZXNzaW9uUmVmZXJlbmNlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlY3Rpb25SZWZlcmVuY2UgZXh0ZW5kcyBFdmVudFJlZmVyZW5jZSB7XG4gIGV2ZW50X3R5cGU6IEV2ZW50VHlwZS5TZWN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENsaWNrRXZlbnQgZXh0ZW5kcyBFdmVudCB7XG4gIGV2ZW50X3R5cGU6IEV2ZW50VHlwZS5DbGljaztcbiAgcGFyZW50OiBTZWN0aW9uUmVmZXJlbmNlO1xufVxuXG5leHBvcnQgY2xhc3MgVmlzaXRvciBpbXBsZW1lbnRzIFZpc2l0b3JFdmVudCwgVmlzaXRvclJlZmVyZW5jZSB7XG4gIHJlYWRvbmx5IGV2ZW50X3R5cGU6IEV2ZW50VHlwZS5WaXNpdG9yO1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXZlbnRfdHlwZSA9IEV2ZW50VHlwZS5WaXNpdG9yO1xuICAgIHRoaXMuaWQgPSB1dWlkdjcoKTtcbiAgfVxuXG4gIHRvUHVibGlzaEV2ZW50KCk6IFB1Ymxpc2hFdmVudCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHQ6IHRoaXMuZXZlbnRfdHlwZSxcbiAgICAgIGk6IHRoaXMuaWQsXG4gICAgICBhOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2Vzc2lvbiBpbXBsZW1lbnRzIFNlc3Npb25FdmVudCwgU2Vzc2lvblJlZmVyZW5jZSB7XG4gIHJlYWRvbmx5IGV2ZW50X3R5cGU6IEV2ZW50VHlwZS5TZXNzaW9uO1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBwYXJlbnQ6IFZpc2l0b3JSZWZlcmVuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50OiBWaXNpdG9yUmVmZXJlbmNlKSB7XG4gICAgdGhpcy5ldmVudF90eXBlID0gRXZlbnRUeXBlLlNlc3Npb247XG4gICAgdGhpcy5pZCA9IHV1aWR2NygpO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB9XG5cbiAgdG9QdWJsaXNoRXZlbnQoKTogUHVibGlzaEV2ZW50IHtcbiAgICBjb25zdCBhdHRyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsgcGFyZW50OiB0aGlzLnBhcmVudC5pZCB9O1xuICAgIHJldHVybiB7XG4gICAgICB0OiB0aGlzLmV2ZW50X3R5cGUsXG4gICAgICBpOiB0aGlzLmlkLFxuICAgICAgYTogYXR0cnMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VjdGlvbiBpbXBsZW1lbnRzIFNlY3Rpb25FdmVudCwgU2VjdGlvblJlZmVyZW5jZSB7XG4gIHJlYWRvbmx5IGV2ZW50X3R5cGU6IEV2ZW50VHlwZS5TZWN0aW9uO1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBwYXJlbnQ6IFNlc3Npb25SZWZlcmVuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50OiBTZXNzaW9uUmVmZXJlbmNlKSB7XG4gICAgdGhpcy5ldmVudF90eXBlID0gRXZlbnRUeXBlLlNlY3Rpb247XG4gICAgdGhpcy5pZCA9IHV1aWR2NygpO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB9XG5cbiAgdG9QdWJsaXNoRXZlbnQoKTogUHVibGlzaEV2ZW50IHtcbiAgICBjb25zdCBhdHRyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsgcGFyZW50OiB0aGlzLnBhcmVudC5pZCB9O1xuICAgIHJldHVybiB7XG4gICAgICB0OiB0aGlzLmV2ZW50X3R5cGUsXG4gICAgICBpOiB0aGlzLmlkLFxuICAgICAgYTogYXR0cnMsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2xpY2sgaW1wbGVtZW50cyBDbGlja0V2ZW50IHtcbiAgcmVhZG9ubHkgZXZlbnRfdHlwZTogRXZlbnRUeXBlLkNsaWNrO1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBwYXJlbnQ6IFNlY3Rpb25SZWZlcmVuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50OiBTZWN0aW9uUmVmZXJlbmNlKSB7XG4gICAgdGhpcy5ldmVudF90eXBlID0gRXZlbnRUeXBlLkNsaWNrO1xuICAgIHRoaXMuaWQgPSB1dWlkdjcoKTtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIHRvUHVibGlzaEV2ZW50KCk6IFB1Ymxpc2hFdmVudCB7XG4gICAgY29uc3QgYXR0cnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7IHBhcmVudDogdGhpcy5wYXJlbnQuaWQgfTtcbiAgICByZXR1cm4ge1xuICAgICAgdDogdGhpcy5ldmVudF90eXBlLFxuICAgICAgaTogdGhpcy5pZCxcbiAgICAgIGE6IGF0dHJzLFxuICAgIH07XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBlbnVtIFJlZ2lzdGVyRXZlbnRFcnJvciB7XG4gIEJhZFJlcXVlc3RFcnJvcixcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBJbnRlcm5hbEVycm9yLFxufVxuXG5leHBvcnQgdHlwZSBSZWdpc3RlckV2ZW50UmVzdWx0ID0gUmVnaXN0ZXJFdmVudEVycm9yIHwgdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBFdmVudFJlZ2lzdHJ5U3VjY2VzcyB7XG4gIGV2ZW50Q291bnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gRXZlbnRSZWdpc3RyeUVycm9yIHtcbiAgQmFkUmVxdWVzdCxcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBJbnRlcm5hbEVycm9yLFxufVxuXG5leHBvcnQgdHlwZSBFdmVudFJlZ2lzdHJ5UmVzdWx0ID0gRXZlbnRSZWdpc3RyeVN1Y2Nlc3MgfCBFdmVudFJlZ2lzdHJ5RXJyb3I7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRSZWdpc3RyeSB7XG4gIHJlZ2lzdGVyVmlzaXRvcigpOiBQcm9taXNlPEV2ZW50UmVnaXN0cnlSZXN1bHQ+O1xuICBkZXJlZ2lzdGVyVmlzaXRvcigpOiBQcm9taXNlPEV2ZW50UmVnaXN0cnlSZXN1bHQ+O1xuICByZWdpc3RlclNlc3Npb24oKTogUHJvbWlzZTxFdmVudFJlZ2lzdHJ5UmVzdWx0PjtcbiAgZGVyZWdpc3RlclNlc3Npb24oKTogUHJvbWlzZTxFdmVudFJlZ2lzdHJ5UmVzdWx0PjtcbiAgcmVnaXN0ZXJTZWN0aW9uKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD47XG4gIGRlcmVnaXN0ZXJTZWN0aW9uKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD47XG4gIHJlZ2lzdGVyQ2xpY2soKTogUHJvbWlzZTxFdmVudFJlZ2lzdHJ5UmVzdWx0Pjtcbn1cbiIsImltcG9ydCB7IFB1Ymxpc2hFdmVudCB9IGZyb20gXCIuL1B1Ymxpc2hFdmVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50UHVibGlzaFN1Y2Nlc3Mge1xuICBldmVudENvdW50OiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIEV2ZW50UHVibGlzaEVycm9yIHtcbiAgQmFkUmVxdWVzdCxcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBGZXRjaEVycm9yLFxuICBJbnRlcm5hbFNlcnZlckVycm9yLFxuICBUaW1lb3V0LFxufVxuXG5leHBvcnQgdHlwZSBFdmVudFB1Ymxpc2hSZXN1bHQgPSBFdmVudFB1Ymxpc2hTdWNjZXNzIHwgRXZlbnRQdWJsaXNoRXJyb3I7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50UHVibGlzaFJlc3VsdEVycm9yKFxuICByZXN1bHQ6IEV2ZW50UHVibGlzaFJlc3VsdCxcbik6IHJlc3VsdCBpcyBFdmVudFB1Ymxpc2hFcnJvciB7XG4gIHJldHVybiB0eXBlb2YgcmVzdWx0ID09IFwibnVtYmVyXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRQdWJsaXNoZXIge1xuICBwdWJsaXNoKGV2ZW50czogUHVibGlzaEV2ZW50W10pOiBQcm9taXNlPEV2ZW50UHVibGlzaFJlc3VsdD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRQdWJsaXNoZXJDb25maWd1cmF0aW9uIHtcbiAgYXBpX2tleTogc3RyaW5nO1xuICBob3N0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBlbnVtIEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlIHtcbiAgSW52YWxpZCxcbiAgSW52YWxpZEFwaUtleSxcbiAgSW52YWxpZEhvc3QsXG4gIFN1Y2Nlc3MsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvbihcbiAgY29uZmlnOiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24sXG4pOiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb25TdGF0ZSB7XG4gIGlmIChjb25maWcuYXBpX2tleS50cmltKCkubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb25TdGF0ZS5JbnZhbGlkQXBpS2V5O1xuICB9XG4gIGNvbnN0IGhvc3QgPSBVUkwucGFyc2UoY29uZmlnLmhvc3QpO1xuICBpZiAoaG9zdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlLkludmFsaWRIb3N0O1xuICB9XG4gIGlmIChcbiAgICBob3N0LnBhdGhuYW1lLmxlbmd0aCA+IDEgfHxcbiAgICBob3N0LnNlYXJjaC5sZW5ndGggPiAwIHx8XG4gICAgaG9zdC5oYXNoLmxlbmd0aCA+IDBcbiAgKSB7XG4gICAgcmV0dXJuIEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlLkludmFsaWRIb3N0O1xuICB9XG4gIHJldHVybiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb25TdGF0ZS5TdWNjZXNzO1xufVxuIiwiaW1wb3J0IHtcbiAgU2VjdGlvblJlZmVyZW5jZSxcbiAgU2Vzc2lvblJlZmVyZW5jZSxcbiAgVmlzaXRvclJlZmVyZW5jZSxcbn0gZnJvbSBcIi4uL0V2ZW50L0V2ZW50XCI7XG5cbmV4cG9ydCBlbnVtIFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gIEludGVybmFsRXJyb3IsXG4gIE1hbGZvcm1lZERhdGEsXG4gIE5vdEZvdW5kLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpdGVTdGF0ZSB7XG4gIHZpc2l0b3I6IFZpc2l0b3JSZWZlcmVuY2UgfCB1bmRlZmluZWQ7XG4gIHNlc3Npb246IFNlc3Npb25SZWZlcmVuY2UgfCB1bmRlZmluZWQ7XG4gIHNlY3Rpb246IFNlY3Rpb25SZWZlcmVuY2UgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB0eXBlIFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQgPSBTaXRlU3RhdGUgfCBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3I7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvcihcbiAgcmVzdWx0OiBTaXRlU3RhdGVSZXBvc2l0b3J5UmVzdWx0LFxuKTogcmVzdWx0IGlzIFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gIHJldHVybiB0eXBlb2YgcmVzdWx0ID09IFwibnVtYmVyXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2l0ZVN0YXRlUmVwb3NpdG9yeSB7XG4gIGdldFNpdGVTdGF0ZSgpOiBTaXRlU3RhdGVSZXBvc2l0b3J5UmVzdWx0O1xuICBzZXRTaXRlU3RhdGUoc3RhdGU6IFNpdGVTdGF0ZSk6IFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQ7XG4gIGNsZWFyU2l0ZVN0YXRlKCk6IFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQ7XG59XG4iLCJpbXBvcnQge1xuICBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24sXG4gIEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlLFxuICBFdmVudFB1Ymxpc2hFcnJvcixcbiAgRXZlbnRQdWJsaXNoUmVzdWx0LFxufSBmcm9tIFwiLi9FdmVudFB1Ymxpc2hlclwiO1xuaW1wb3J0IHsgUHVibGlzaEV2ZW50IH0gZnJvbSBcIi4vUHVibGlzaEV2ZW50XCI7XG5cbmV4cG9ydCBlbnVtIFdvcmtlck1lc3NhZ2VUeXBlIHtcbiAgQ29uZmlndXJlUmVxdWVzdCxcbiAgQ29uZmlndXJlUmVzdWx0LFxuICBQdWJsaXNoRXJyb3IsXG4gIFB1Ymxpc2hSZXF1ZXN0LFxuICBQdWJsaXNoUmVzdWx0LFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtlck1lc3NhZ2Uge1xuICBpZDogc3RyaW5nO1xuICBtZXNzYWdlVHlwZTogV29ya2VyTWVzc2FnZVR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya2VyQ29uZmlndXJhdGlvblJlcXVlc3RNZXNzYWdlIGV4dGVuZHMgV29ya2VyTWVzc2FnZSB7XG4gIG1lc3NhZ2VUeXBlOiBXb3JrZXJNZXNzYWdlVHlwZS5Db25maWd1cmVSZXF1ZXN0O1xuICBjb25maWc6IEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3JrZXJDb25maWd1cmF0aW9uUmVzdWx0TWVzc2FnZSBleHRlbmRzIFdvcmtlck1lc3NhZ2Uge1xuICBtZXNzYWdlVHlwZTogV29ya2VyTWVzc2FnZVR5cGUuQ29uZmlndXJlUmVzdWx0O1xuICBjb25maWd1cmF0aW9uU3RhdGU6IEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtlclB1Ymxpc2hFcnJvck1lc3NhZ2UgZXh0ZW5kcyBXb3JrZXJNZXNzYWdlIHtcbiAgbWVzc2FnZVR5cGU6IFdvcmtlck1lc3NhZ2VUeXBlLlB1Ymxpc2hFcnJvcjtcbiAgZXJyb3JUeXBlOiBFdmVudFB1Ymxpc2hFcnJvcjtcbiAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya2VyUHVibGlzaFJlcXVlc3RNZXNzYWdlIGV4dGVuZHMgV29ya2VyTWVzc2FnZSB7XG4gIG1lc3NhZ2VUeXBlOiBXb3JrZXJNZXNzYWdlVHlwZS5QdWJsaXNoUmVxdWVzdDtcbiAgZXZlbnRzOiBQdWJsaXNoRXZlbnRbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3JrZXJQdWJsaXNoUmVzdWx0TWVzc2FnZSBleHRlbmRzIFdvcmtlck1lc3NhZ2Uge1xuICBtZXNzYWdlVHlwZTogV29ya2VyTWVzc2FnZVR5cGUuUHVibGlzaFJlc3VsdDtcbiAgcmVzdWx0OiBFdmVudFB1Ymxpc2hSZXN1bHQ7XG59XG4iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5mdW5jdGlvbiB2ZXJzaW9uKHV1aWQpIHtcbiAgICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxNSksIDE2KTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZlcnNpb247XG4iLCJpbXBvcnQge1xuICBFdmVudFR5cGUsXG4gIGlzRXZlbnRSZWZlcmVuY2UsXG4gIFNlY3Rpb25SZWZlcmVuY2UsXG4gIFNlc3Npb25SZWZlcmVuY2UsXG4gIFZpc2l0b3JSZWZlcmVuY2UsXG59IGZyb20gXCIuLi9FdmVudC9FdmVudFwiO1xuaW1wb3J0IHtcbiAgU2l0ZVN0YXRlLFxuICBTaXRlU3RhdGVSZXBvc2l0b3J5LFxuICBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3IsXG4gIFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQsXG59IGZyb20gXCIuL1NpdGVTdGF0ZVwiO1xuXG5jb25zdCBQUkVGSVg6IHN0cmluZyA9IFwiU0FMVVNcIjtcbmNvbnN0IFZJU0lUT1JfU1VGRklYOiBzdHJpbmcgPSBcIlZJU0lUT1JcIjtcbmNvbnN0IFNFU1NJT05fU1VGRklYOiBzdHJpbmcgPSBcIlNFU1NJT05cIjtcblxuZXhwb3J0IGNsYXNzIFdlYlN0b3JhZ2VTaXRlU3RhdGVSZXBvc2l0b3J5IGltcGxlbWVudHMgU2l0ZVN0YXRlUmVwb3NpdG9yeSB7XG4gIHByaXZhdGUgYXBpX2tleTogc3RyaW5nO1xuICBwcml2YXRlIHNlY3Rpb246IFNlY3Rpb25SZWZlcmVuY2UgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoYXBpX2tleTogc3RyaW5nKSB7XG4gICAgaWYgKGFwaV9rZXkudHJpbSgpLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJpbnZhbGlkIGVtcHR5IGFwaV9rZXlcIik7XG4gICAgfVxuICAgIHRoaXMuYXBpX2tleSA9IGFwaV9rZXk7XG4gICAgdGhpcy5zZWN0aW9uID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgY2xlYXJTaXRlU3RhdGUoKTogU2l0ZVN0YXRlUmVwb3NpdG9yeVJlc3VsdCB7XG4gICAgdGhpcy5jbGVhclNlY3Rpb24oKTtcbiAgICB0aGlzLmNsZWFyU2Vzc2lvbigpO1xuICAgIHRoaXMuY2xlYXJWaXNpdG9yKCk7XG4gICAgcmV0dXJuIHsgdmlzaXRvcjogdW5kZWZpbmVkLCBzZXNzaW9uOiB1bmRlZmluZWQsIHNlY3Rpb246IHVuZGVmaW5lZCB9O1xuICB9XG5cbiAgZ2V0U2l0ZVN0YXRlKCk6IFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQge1xuICAgIGNvbnN0IHZpc2l0b3JSZXN1bHQgPSB0aGlzLmdldFZpc2l0b3IoKTtcbiAgICBsZXQgdmlzaXRvcjogVmlzaXRvclJlZmVyZW5jZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHZpc2l0b3JSZXN1bHQgPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHZpc2l0b3JSZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZpc2l0b3IgPSB2aXNpdG9yUmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IHNlc3Npb25SZXN1bHQgPSB0aGlzLmdldFNlc3Npb24oKTtcbiAgICBsZXQgc2Vzc2lvbjogU2Vzc2lvblJlZmVyZW5jZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHNlc3Npb25SZXN1bHQgPT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKFxuICAgICAgICBzZXNzaW9uUmVzdWx0ID09IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvci5NYWxmb3JtZWREYXRhIHx8XG4gICAgICAgIHNlc3Npb25SZXN1bHQgPT0gU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yLkludGVybmFsRXJyb3JcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2Vzc2lvblJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZpc2l0b3IsIHNlc3Npb246IHVuZGVmaW5lZCwgc2VjdGlvbjogdW5kZWZpbmVkIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlc3Npb24gPSBzZXNzaW9uUmVzdWx0O1xuICAgIH1cblxuICAgIGNvbnN0IHNlY3Rpb25SZXN1bHQgPSB0aGlzLmdldFNlY3Rpb24oKTtcbiAgICBsZXQgc2VjdGlvbjogU2VjdGlvblJlZmVyZW5jZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHNlY3Rpb25SZXN1bHQgPT0gXCJudW1iZXJcIikge1xuICAgICAgaWYgKFxuICAgICAgICBzZWN0aW9uUmVzdWx0ID09IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvci5NYWxmb3JtZWREYXRhIHx8XG4gICAgICAgIHNlY3Rpb25SZXN1bHQgPT0gU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yLkludGVybmFsRXJyb3JcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VjdGlvblJlc3VsdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VjdGlvbiA9IHNlY3Rpb25SZXN1bHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHZpc2l0b3IsXG4gICAgICBzZXNzaW9uLFxuICAgICAgc2VjdGlvbixcbiAgICB9O1xuICB9XG5cbiAgc2V0U2l0ZVN0YXRlKHN0YXRlOiBTaXRlU3RhdGUpOiBTaXRlU3RhdGVSZXBvc2l0b3J5UmVzdWx0IHtcbiAgICBjb25zdCBzZWN0aW9uID0gc3RhdGUuc2VjdGlvbjtcbiAgICBpZiAodHlwZW9mIHNlY3Rpb24gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5jbGVhclNlY3Rpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc2VjdGlvblJlc3VsdCA9IHRoaXMuc2V0U2VjdGlvbihzZWN0aW9uKTtcbiAgICAgIGlmICghaXNFdmVudFJlZmVyZW5jZShzZWN0aW9uUmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gc2VjdGlvblJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHN0YXRlLnNlc3Npb247XG4gICAgaWYgKHR5cGVvZiBzZXNzaW9uID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuY2xlYXJTZXNzaW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlc3Npb25SZXN1bHQgPSB0aGlzLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICBpZiAoIWlzRXZlbnRSZWZlcmVuY2Uoc2Vzc2lvblJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHNlc3Npb25SZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHZpc2l0b3IgPSBzdGF0ZS52aXNpdG9yO1xuICAgIGlmICh0eXBlb2YgdmlzaXRvciA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aGlzLmNsZWFyVmlzaXRvcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2aXNpdG9yUmVzdWx0ID0gdGhpcy5zZXRWaXNpdG9yKHZpc2l0b3IpO1xuICAgICAgaWYgKCFpc0V2ZW50UmVmZXJlbmNlKHZpc2l0b3JSZXN1bHQpKSB7XG4gICAgICAgIHJldHVybiB2aXNpdG9yUmVzdWx0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICBwcml2YXRlIGdldFZpc2l0b3IoKTogVmlzaXRvclJlZmVyZW5jZSB8IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gICAgY29uc3Qga2V5OiBzdHJpbmcgPSBbUFJFRklYLCBWSVNJVE9SX1NVRkZJWCwgdGhpcy5hcGlfa2V5XS5qb2luKFwiX1wiKTtcbiAgICBjb25zdCBpZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgIHJldHVybiBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3IuTm90Rm91bmQ7XG4gICAgfVxuICAgIGNvbnN0IHZpc2l0b3IgPSB7IGlkLCBldmVudF90eXBlOiBFdmVudFR5cGUuVmlzaXRvciB9O1xuICAgIGlmICghaXNFdmVudFJlZmVyZW5jZSh2aXNpdG9yKSkge1xuICAgICAgcmV0dXJuIFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvci5NYWxmb3JtZWREYXRhO1xuICAgIH1cblxuICAgIHJldHVybiB2aXNpdG9yIGFzIFZpc2l0b3JSZWZlcmVuY2U7XG4gIH1cblxuICBwcml2YXRlIHNldFZpc2l0b3IoXG4gICAgdmlzaXRvcjogVmlzaXRvclJlZmVyZW5jZSxcbiAgKTogVmlzaXRvclJlZmVyZW5jZSB8IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gICAgY29uc3Qga2V5OiBzdHJpbmcgPSBbUFJFRklYLCBWSVNJVE9SX1NVRkZJWCwgdGhpcy5hcGlfa2V5XS5qb2luKFwiX1wiKTtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2aXNpdG9yLmlkKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yLkludGVybmFsRXJyb3I7XG4gICAgfVxuICAgIHJldHVybiB2aXNpdG9yO1xuICB9XG5cbiAgcHJpdmF0ZSBjbGVhclZpc2l0b3IoKTogdm9pZCB7XG4gICAgY29uc3Qga2V5OiBzdHJpbmcgPSBbUFJFRklYLCBWSVNJVE9SX1NVRkZJWCwgdGhpcy5hcGlfa2V5XS5qb2luKFwiX1wiKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTZXNzaW9uKCk6IFNlc3Npb25SZWZlcmVuY2UgfCBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3Ige1xuICAgIGNvbnN0IGtleTogc3RyaW5nID0gW1BSRUZJWCwgU0VTU0lPTl9TVUZGSVgsIHRoaXMuYXBpX2tleV0uam9pbihcIl9cIik7XG4gICAgY29uc3QgaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgIHJldHVybiBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3IuTm90Rm91bmQ7XG4gICAgfVxuICAgIGNvbnN0IHNlc3Npb24gPSB7IGlkLCBldmVudF90eXBlOiBFdmVudFR5cGUuU2Vzc2lvbiB9O1xuICAgIGlmICghaXNFdmVudFJlZmVyZW5jZShzZXNzaW9uKSkge1xuICAgICAgcmV0dXJuIFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvci5NYWxmb3JtZWREYXRhO1xuICAgIH1cblxuICAgIHJldHVybiBzZXNzaW9uIGFzIFNlc3Npb25SZWZlcmVuY2U7XG4gIH1cblxuICBwcml2YXRlIHNldFNlc3Npb24oXG4gICAgc2Vzc2lvbjogU2Vzc2lvblJlZmVyZW5jZSxcbiAgKTogU2Vzc2lvblJlZmVyZW5jZSB8IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gICAgY29uc3Qga2V5OiBzdHJpbmcgPSBbUFJFRklYLCBTRVNTSU9OX1NVRkZJWCwgdGhpcy5hcGlfa2V5XS5qb2luKFwiX1wiKTtcbiAgICB0cnkge1xuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHNlc3Npb24uaWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3IuSW50ZXJuYWxFcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cblxuICBwcml2YXRlIGNsZWFyU2Vzc2lvbigpOiB2b2lkIHtcbiAgICBjb25zdCBrZXk6IHN0cmluZyA9IFtQUkVGSVgsIFNFU1NJT05fU1VGRklYLCB0aGlzLmFwaV9rZXldLmpvaW4oXCJfXCIpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNlY3Rpb24oKTogU2VjdGlvblJlZmVyZW5jZSB8IFNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciB7XG4gICAgcmV0dXJuIHRoaXMuc2VjdGlvbiA9PSB1bmRlZmluZWRcbiAgICAgID8gU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yLk5vdEZvdW5kXG4gICAgICA6IHRoaXMuc2VjdGlvbjtcbiAgfVxuXG4gIHByaXZhdGUgc2V0U2VjdGlvbihcbiAgICBzZWN0aW9uOiBTZWN0aW9uUmVmZXJlbmNlLFxuICApOiBTZWN0aW9uUmVmZXJlbmNlIHwgU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yIHtcbiAgICB0aGlzLnNlY3Rpb24gPSBzZWN0aW9uO1xuICAgIHJldHVybiB0aGlzLnNlY3Rpb247XG4gIH1cblxuICBwcml2YXRlIGNsZWFyU2VjdGlvbigpOiB2b2lkIHtcbiAgICB0aGlzLnNlY3Rpb24gPSB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsIi8vIGltcG9ydCB7IFZpc2l0b3IgfSBmcm9tIFwiLi9FdmVudC9FdmVudFwiO1xuaW1wb3J0IHsgRXZlbnRNYW5hZ2VyIH0gZnJvbSBcIi4vRXZlbnRNYW5hZ2VyL0V2ZW50TWFuYWdlclwiO1xuLy8gaW1wb3J0IHsgSHR0cEV2ZW50UHVibGlzaGVyIH0gZnJvbSBcIi4vRXZlbnRQdWJsaXNoZXIvSHR0cEV2ZW50UHVibGlzaGVyXCI7XG5pbXBvcnQgeyBXb3JrZXJQdWJsaXNoZXJHYXRld2F5IH0gZnJvbSBcIi4vRXZlbnRQdWJsaXNoZXIvV29ya2VyUHVibGlzaGVyR2F0ZXdheVwiO1xuaW1wb3J0IHsgV2ViU3RvcmFnZVNpdGVTdGF0ZVJlcG9zaXRvcnkgfSBmcm9tIFwiLi9TaXRlU3RhdGUvV2ViU3RvcmFnZVNpdGVTdGF0ZVJlcG9zaXRvcnlcIjtcblxubGV0IGFwaV9rZXkgPSBcImFiYy14eXpcIjtcbmxldCBob3N0ID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIjtcblxubGV0IHNpdGVTdGF0ZVJlcG9zaXRvcnkgPSBuZXcgV2ViU3RvcmFnZVNpdGVTdGF0ZVJlcG9zaXRvcnkoYXBpX2tleSk7XG5sZXQgZ2F0ZXdheSA9IG5ldyBXb3JrZXJQdWJsaXNoZXJHYXRld2F5KHsgYXBpX2tleSwgaG9zdCB9LCAoZSkgPT5cbiAgY29uc29sZS5sb2coZSksXG4pO1xuLy8gbGV0IHB1Ymxpc2hlciA9IG5ldyBIdHRwRXZlbnRQdWJsaXNoZXIoe1xuLy8gICBhcGlfa2V5LFxuLy8gICBob3N0LFxuLy8gfSk7XG5sZXQgZXZlbnRNYW5hZ2VyID0gbmV3IEV2ZW50TWFuYWdlcihnYXRld2F5LCBzaXRlU3RhdGVSZXBvc2l0b3J5KTtcblxuZXZlbnRNYW5hZ2VyLnJlZ2lzdGVyU2VjdGlvbigpO1xuXG4vLyBsZXQgdmlzaXRvcjogVmlzaXRvciA9IG5ldyBWaXNpdG9yKCk7XG5cbi8vIGxldCBnYXRld2F5ID0gbmV3IFdvcmtlclB1Ymxpc2hlckdhdGV3YXkoeyBhcGlfa2V5LCBob3N0IH0sIChlKSA9PlxuLy8gICBjb25zb2xlLmxvZyhlKSxcbi8vICk7XG5cbi8vIGdhdGV3YXlcbi8vICAgLnB1Ymxpc2goW3Zpc2l0b3IudG9QdWJsaXNoRXZlbnQoKV0pXG4vLyAgIC50aGVuKChlKSA9PiBjb25zb2xlLmxvZyhcInN1Y2Nlc3M6XCIsIGUpKVxuLy8gICAuY2F0Y2goKGUpID0+IGNvbnNvbGUuZXJyb3IoXCJlcnJvcjpcIiwgZSkpO1xuIiwiaW1wb3J0IHtcbiAgRXZlbnRQdWJsaXNoZXIsXG4gIEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvbixcbiAgRXZlbnRQdWJsaXNoZXJDb25maWd1cmF0aW9uU3RhdGUsXG4gIEV2ZW50UHVibGlzaFJlc3VsdCxcbiAgdmFsaWRhdGVFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24sXG59IGZyb20gXCIuL0V2ZW50UHVibGlzaGVyXCI7XG5pbXBvcnQgeyBQdWJsaXNoRXZlbnQgfSBmcm9tIFwiLi9QdWJsaXNoRXZlbnRcIjtcbmltcG9ydCB7XG4gIFdvcmtlckNvbmZpZ3VyYXRpb25SZXF1ZXN0TWVzc2FnZSxcbiAgV29ya2VyQ29uZmlndXJhdGlvblJlc3VsdE1lc3NhZ2UsXG4gIFdvcmtlck1lc3NhZ2VUeXBlLFxuICBXb3JrZXJQdWJsaXNoRXJyb3JNZXNzYWdlLFxuICBXb3JrZXJQdWJsaXNoUmVxdWVzdE1lc3NhZ2UsXG4gIFdvcmtlclB1Ymxpc2hSZXN1bHRNZXNzYWdlLFxufSBmcm9tIFwiLi9Xb3JrZXJNZXNzYWdlXCI7XG5pbXBvcnQgeyB2NyBhcyB1dWlkdjcgfSBmcm9tIFwidXVpZFwiO1xuXG50eXBlIFJlc29sdmVFdmVudFB1Ymxpc2hSZXN1bHQgPSAoXG4gIHZhbHVlOiBFdmVudFB1Ymxpc2hSZXN1bHQgfCBQcm9taXNlTGlrZTxFdmVudFB1Ymxpc2hSZXN1bHQ+LFxuKSA9PiB2b2lkO1xudHlwZSBSZWplY3RFdmVudFB1Ymxpc2hSZXN1bHQgPSAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgUHJvbWlzZUhhbmRsZXJzIHtcbiAgcmVzb2x2ZTogUmVzb2x2ZUV2ZW50UHVibGlzaFJlc3VsdDtcbiAgcmVqZWN0OiBSZWplY3RFdmVudFB1Ymxpc2hSZXN1bHQ7XG59XG5cbmV4cG9ydCB0eXBlIEdsb2JhbFB1Ymxpc2hFcnJvckhhbmRsZXIgPSAoZXJyPzogc3RyaW5nKSA9PiB2b2lkO1xuXG5leHBvcnQgY2xhc3MgV29ya2VyUHVibGlzaGVyR2F0ZXdheSBpbXBsZW1lbnRzIEV2ZW50UHVibGlzaGVyIHtcbiAgcHJpdmF0ZSB3b3JrZXJQdWJsaXNoZXI6IFdvcmtlcjtcbiAgcHJpdmF0ZSBwcm9taXNlUmVnaXN0cnk6IFJlY29yZDxzdHJpbmcsIFByb21pc2VIYW5kbGVycz47XG4gIHByaXZhdGUgY29uZmlndXJhdGlvblN0YXRlOiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb25TdGF0ZSB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBlcnJvckhhbmRsZXI6IEdsb2JhbFB1Ymxpc2hFcnJvckhhbmRsZXIgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZmlnOiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24sXG4gICAgZXJyb3JIYW5kbGVyPzogR2xvYmFsUHVibGlzaEVycm9ySGFuZGxlcixcbiAgKSB7XG4gICAgdGhpcy5lcnJvckhhbmRsZXIgPSBlcnJvckhhbmRsZXI7XG4gICAgdGhpcy5jb25maWd1cmF0aW9uU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgaWYgKFxuICAgICAgdmFsaWRhdGVFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24oY29uZmlnKSAhPVxuICAgICAgRXZlbnRQdWJsaXNoZXJDb25maWd1cmF0aW9uU3RhdGUuU3VjY2Vzc1xuICAgICkge1xuICAgICAgaWYgKHRoaXMuZXJyb3JIYW5kbGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVycm9ySGFuZGxlcihcbiAgICAgICAgICBcIkVycm9yIGNvbnN0cnVjdGluZyBXb3JrZXJQdWJsaXNoZXJHYXRld2F5IC0gSW52YWxpZCBDb25maWd1cmF0aW9uXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEV2ZW50IFB1Ymxpc2hlciBDb25maWd1cmF0aW9uXCIpO1xuICAgIH1cbiAgICB0aGlzLnByb21pc2VSZWdpc3RyeSA9IHt9O1xuICAgIHRoaXMud29ya2VyUHVibGlzaGVyID0gbmV3IFdvcmtlcihcbiAgICAgIG5ldyBVUkwoXCJXb3JrZXJQdWJsaXNoZXIuanNcIiwgaW1wb3J0Lm1ldGEudXJsKSxcbiAgICApO1xuICAgIHRoaXMud29ya2VyUHVibGlzaGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChtKSA9PlxuICAgICAgdGhpcy5yb3V0ZU1lc3NhZ2UobSksXG4gICAgKTtcbiAgICB0aGlzLndvcmtlclB1Ymxpc2hlci5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLmVycm9ySGFuZGxlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoZS5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnBvc3RDb25maWdSZXF1ZXN0KGNvbmZpZyk7XG4gIH1cblxuICBwdWJsaXNoKGV2ZW50czogUHVibGlzaEV2ZW50W10pOiBQcm9taXNlPEV2ZW50UHVibGlzaFJlc3VsdD4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLmNyZWF0ZVB1Ymxpc2hNZXNzYWdlKGV2ZW50cyk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEV2ZW50UHVibGlzaFJlc3VsdD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5yZWdpc3RlclB1Ymxpc2hQcm9taXNlKG1lc3NhZ2UsIHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgdGhpcy5wb3N0UHVibGlzaFJlcXVlc3QobWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJvdXRlTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlRXZlbnQpIHtcbiAgICBjb25zdCB3b3JrZXJNZXNzYWdlID0gbWVzc2FnZS5kYXRhIGFzXG4gICAgICB8IFdvcmtlckNvbmZpZ3VyYXRpb25SZXN1bHRNZXNzYWdlXG4gICAgICB8IFdvcmtlclB1Ymxpc2hSZXN1bHRNZXNzYWdlXG4gICAgICB8IFdvcmtlclB1Ymxpc2hFcnJvck1lc3NhZ2U7XG5cbiAgICBpZiAod29ya2VyTWVzc2FnZS5tZXNzYWdlVHlwZSA9PSBXb3JrZXJNZXNzYWdlVHlwZS5Db25maWd1cmVSZXN1bHQpIHtcbiAgICAgIHRoaXMuY29uZmlndXJhdGlvblN0YXRlID0gd29ya2VyTWVzc2FnZS5jb25maWd1cmF0aW9uU3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuY29uZmlndXJhdGlvblN0YXRlICE9IEV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvblN0YXRlLlN1Y2Nlc3MgJiZcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIgIT0gdW5kZWZpbmVkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoXCJXb3JrZXIgZXZlbnQgcHVibGlzaGVyIGZhaWxlZFwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNvbHZlUHVibGlzaCh3b3JrZXJNZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVQdWJsaXNoKFxuICAgIHJlc3VsdE1lc3NhZ2U6IFdvcmtlclB1Ymxpc2hSZXN1bHRNZXNzYWdlIHwgV29ya2VyUHVibGlzaEVycm9yTWVzc2FnZSxcbiAgKSB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLnByb21pc2VSZWdpc3RyeVtyZXN1bHRNZXNzYWdlLmlkXTtcbiAgICBpZiAoaGFuZGxlcnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5lcnJvckhhbmRsZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyKFxuICAgICAgICAgIFwiRXZlbnQgUHVibGlzaCBSZXN1bHQgaGFkIG5vIG1hdGNoaW5nIGhhbmRsZXJzIGluIHJlZ2lzdHJ5XCIsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlc3VsdE1lc3NhZ2UubWVzc2FnZVR5cGUgPT0gV29ya2VyTWVzc2FnZVR5cGUuUHVibGlzaFJlc3VsdCkge1xuICAgICAgICBoYW5kbGVycy5yZXNvbHZlKHJlc3VsdE1lc3NhZ2UucmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXJzLnJlamVjdChyZXN1bHRNZXNzYWdlLmVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBkZWxldGUgdGhpcy5wcm9taXNlUmVnaXN0cnlbcmVzdWx0TWVzc2FnZS5pZF07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVQdWJsaXNoTWVzc2FnZShcbiAgICBldmVudHM6IFB1Ymxpc2hFdmVudFtdLFxuICApOiBXb3JrZXJQdWJsaXNoUmVxdWVzdE1lc3NhZ2Uge1xuICAgIGNvbnN0IGlkID0gdXVpZHY3KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkLFxuICAgICAgbWVzc2FnZVR5cGU6IFdvcmtlck1lc3NhZ2VUeXBlLlB1Ymxpc2hSZXF1ZXN0LFxuICAgICAgZXZlbnRzOiBldmVudHMsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJQdWJsaXNoUHJvbWlzZShcbiAgICBtZXNzYWdlOiBXb3JrZXJQdWJsaXNoUmVxdWVzdE1lc3NhZ2UsXG4gICAgaGFuZGxlcnM6IFByb21pc2VIYW5kbGVycyxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5wcm9taXNlUmVnaXN0cnlbbWVzc2FnZS5pZF0gPSBoYW5kbGVycztcbiAgfVxuXG4gIHByaXZhdGUgcG9zdFB1Ymxpc2hSZXF1ZXN0KFxuICAgIHB1Ymxpc2hNZXNzYWdlOiBXb3JrZXJQdWJsaXNoUmVxdWVzdE1lc3NhZ2UsXG4gICk6IHZvaWQge1xuICAgIHRoaXMud29ya2VyUHVibGlzaGVyLnBvc3RNZXNzYWdlKHB1Ymxpc2hNZXNzYWdlKTtcbiAgfVxuXG4gIHByaXZhdGUgcG9zdENvbmZpZ1JlcXVlc3QoY29uZmlnOiBFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBjb25maWdNZXNzYWdlOiBXb3JrZXJDb25maWd1cmF0aW9uUmVxdWVzdE1lc3NhZ2UgPSB7XG4gICAgICBjb25maWcsXG4gICAgICBpZDogdXVpZHY3KCksXG4gICAgICBtZXNzYWdlVHlwZTogV29ya2VyTWVzc2FnZVR5cGUuQ29uZmlndXJlUmVxdWVzdCxcbiAgICB9O1xuICAgIHRoaXMud29ya2VyUHVibGlzaGVyLnBvc3RNZXNzYWdlKGNvbmZpZ01lc3NhZ2UpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBDbGljayxcbiAgU2VjdGlvbixcbiAgU2VjdGlvblJlZmVyZW5jZSxcbiAgU2Vzc2lvbixcbiAgU2Vzc2lvblJlZmVyZW5jZSxcbiAgVmlzaXRvcixcbiAgVmlzaXRvclJlZmVyZW5jZSxcbn0gZnJvbSBcIi4uL0V2ZW50L0V2ZW50XCI7XG5pbXBvcnQge1xuICBFdmVudFJlZ2lzdHJ5LFxuICBFdmVudFJlZ2lzdHJ5RXJyb3IsXG4gIEV2ZW50UmVnaXN0cnlSZXN1bHQsXG59IGZyb20gXCIuLi9FdmVudC9FdmVudFJlZ2lzdHJ5XCI7XG5pbXBvcnQge1xuICBFdmVudFB1Ymxpc2hlcixcbiAgRXZlbnRQdWJsaXNoRXJyb3IsXG4gIEV2ZW50UHVibGlzaFJlc3VsdCxcbiAgaXNFdmVudFB1Ymxpc2hSZXN1bHRFcnJvcixcbn0gZnJvbSBcIi4uL0V2ZW50UHVibGlzaGVyL0V2ZW50UHVibGlzaGVyXCI7XG5pbXBvcnQgeyBUb1B1Ymxpc2hFdmVudCB9IGZyb20gXCIuLi9FdmVudFB1Ymxpc2hlci9QdWJsaXNoRXZlbnRcIjtcbmltcG9ydCB7XG4gIGlzU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yLFxuICBTaXRlU3RhdGUsXG4gIFNpdGVTdGF0ZVJlcG9zaXRvcnksXG4gIFNpdGVTdGF0ZVJlcG9zaXRvcnlSZXN1bHQsXG59IGZyb20gXCIuLi9TaXRlU3RhdGUvU2l0ZVN0YXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBFdmVudE1hbmFnZXIgaW1wbGVtZW50cyBFdmVudFJlZ2lzdHJ5IHtcbiAgcHJpdmF0ZSBwdWJsaXNoZXI6IEV2ZW50UHVibGlzaGVyO1xuICBwcml2YXRlIHNpdGVTdGF0ZVJlcG9zaXRvcnk6IFNpdGVTdGF0ZVJlcG9zaXRvcnk7XG4gIHByaXZhdGUgZXZlbnRRdWV1ZTogVG9QdWJsaXNoRXZlbnRbXTtcbiAgcHJpdmF0ZSBzaXRlU3RhdGVXcml0ZUJ1ZmZlcjogU2l0ZVN0YXRlIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1Ymxpc2hlcjogRXZlbnRQdWJsaXNoZXIsXG4gICAgc2l0ZVN0YXRlUmVwb3NpdG9yeTogU2l0ZVN0YXRlUmVwb3NpdG9yeSxcbiAgKSB7XG4gICAgdGhpcy5wdWJsaXNoZXIgPSBwdWJsaXNoZXI7XG4gICAgdGhpcy5zaXRlU3RhdGVSZXBvc2l0b3J5ID0gc2l0ZVN0YXRlUmVwb3NpdG9yeTtcbiAgICB0aGlzLmV2ZW50UXVldWUgPSBbXTtcbiAgICB0aGlzLnNpdGVTdGF0ZVdyaXRlQnVmZmVyID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTaXRlU3RhdGUoKTogU2l0ZVN0YXRlIHtcbiAgICBpZiAodGhpcy5zaXRlU3RhdGVXcml0ZUJ1ZmZlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNpdGVTdGF0ZVdyaXRlQnVmZmVyO1xuICAgIH1cbiAgICBjb25zdCByZXBvVmFsdWUgPSB0aGlzLnNpdGVTdGF0ZVJlcG9zaXRvcnkuZ2V0U2l0ZVN0YXRlKCk7XG4gICAgaWYgKGlzU2l0ZVN0YXRlUmVwb3NpdG9yeUVycm9yKHJlcG9WYWx1ZSkpIHtcbiAgICAgIHRoaXMuc2l0ZVN0YXRlV3JpdGVCdWZmZXIgPSB7XG4gICAgICAgIHZpc2l0b3I6IHVuZGVmaW5lZCxcbiAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICBzZWN0aW9uOiB1bmRlZmluZWQsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNpdGVTdGF0ZVdyaXRlQnVmZmVyID0gcmVwb1ZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zaXRlU3RhdGVXcml0ZUJ1ZmZlcjtcbiAgfVxuXG4gIHByaXZhdGUgd3JpdGVTaXRlU3RhdGUoKTogU2l0ZVN0YXRlUmVwb3NpdG9yeVJlc3VsdCB7XG4gICAgbGV0IHJlc3VsdDogU2l0ZVN0YXRlUmVwb3NpdG9yeVJlc3VsdDtcbiAgICBpZiAodGhpcy5zaXRlU3RhdGVXcml0ZUJ1ZmZlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuc2l0ZVN0YXRlUmVwb3NpdG9yeS5zZXRTaXRlU3RhdGUodGhpcy5zaXRlU3RhdGVXcml0ZUJ1ZmZlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHRoaXMuc2l0ZVN0YXRlUmVwb3NpdG9yeS5jbGVhclNpdGVTdGF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLnNpdGVTdGF0ZVdyaXRlQnVmZmVyID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBwcml2YXRlIHNldFZpc2l0b3JSZWZlcmVuY2UodmlzaXRvcjogVmlzaXRvclJlZmVyZW5jZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc2l0ZVN0YXRlV3JpdGVCdWZmZXIgPSB7XG4gICAgICB2aXNpdG9yLFxuICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgc2VjdGlvbjogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNldFNlc3Npb25SZWZlcmVuY2Uoc2Vzc2lvbjogU2Vzc2lvblJlZmVyZW5jZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc2l0ZVN0YXRlV3JpdGVCdWZmZXIgPSB7XG4gICAgICB2aXNpdG9yOiB0aGlzLmdldFNpdGVTdGF0ZSgpLnZpc2l0b3IsXG4gICAgICBzZXNzaW9uLFxuICAgICAgc2VjdGlvbjogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIHNldFNlY3Rpb25SZWZlcmVuY2Uoc2VjdGlvbjogU2VjdGlvblJlZmVyZW5jZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc2l0ZVN0YXRlV3JpdGVCdWZmZXIgPSB7XG4gICAgICB2aXNpdG9yOiB0aGlzLmdldFNpdGVTdGF0ZSgpLnZpc2l0b3IsXG4gICAgICBzZXNzaW9uOiB0aGlzLmdldFNpdGVTdGF0ZSgpLnNlc3Npb24sXG4gICAgICBzZWN0aW9uLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGZsdXNoKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD4ge1xuICAgIGNvbnN0IHNpdGVTdGF0ZVNldFJlc3VsdCA9IHRoaXMud3JpdGVTaXRlU3RhdGUoKTtcbiAgICBpZiAoaXNTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3Ioc2l0ZVN0YXRlU2V0UmVzdWx0KSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICByZXNvbHZlKEV2ZW50UmVnaXN0cnlFcnJvci5JbnRlcm5hbEVycm9yKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnB1Ymxpc2hlclxuICAgICAgLnB1Ymxpc2godGhpcy5ldmVudFF1ZXVlLm1hcCgoZSkgPT4gZS50b1B1Ymxpc2hFdmVudCgpKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+XG4gICAgICAgIHRoaXMubWFwRXZlbnRQdWJsaXNoUmVzdWx0VG9FdmVudFJlZ2lzdHJ5UmVzdWx0KHJlc3VsdCksXG4gICAgICApO1xuICAgIHRoaXMuZXZlbnRRdWV1ZSA9IFtdO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBtYXBFdmVudFB1Ymxpc2hSZXN1bHRUb0V2ZW50UmVnaXN0cnlSZXN1bHQoXG4gICAgcHViUmVzOiBFdmVudFB1Ymxpc2hSZXN1bHQsXG4gICk6IEV2ZW50UmVnaXN0cnlSZXN1bHQge1xuICAgIGlmIChpc0V2ZW50UHVibGlzaFJlc3VsdEVycm9yKHB1YlJlcykpIHtcbiAgICAgIGlmIChwdWJSZXMgPT0gRXZlbnRQdWJsaXNoRXJyb3IuQmFkUmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gRXZlbnRSZWdpc3RyeUVycm9yLkJhZFJlcXVlc3Q7XG4gICAgICB9IGVsc2UgaWYgKHB1YlJlcyA9PSBFdmVudFB1Ymxpc2hFcnJvci5Db25maWd1cmF0aW9uRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIEV2ZW50UmVnaXN0cnlFcnJvci5Db25maWd1cmF0aW9uRXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gRXZlbnRSZWdpc3RyeUVycm9yLkludGVybmFsRXJyb3I7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwdWJSZXM7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJWaXNpdG9yKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD4ge1xuICAgIHRoaXMuY3JlYXRlVmlzaXRvcigpO1xuICAgIHJldHVybiB0aGlzLmZsdXNoKCk7XG4gIH1cblxuICBkZXJlZ2lzdGVyVmlzaXRvcigpOiBQcm9taXNlPEV2ZW50UmVnaXN0cnlSZXN1bHQ+IHtcbiAgICB0aGlzLnNldFZpc2l0b3JSZWZlcmVuY2UodW5kZWZpbmVkKTtcbiAgICByZXR1cm4gdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVWaXNpdG9yKCk6IFZpc2l0b3Ige1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgVmlzaXRvcigpO1xuICAgIHRoaXMuc2V0VmlzaXRvclJlZmVyZW5jZSh2aXNpdG9yKTtcbiAgICB0aGlzLmV2ZW50UXVldWUucHVzaCh2aXNpdG9yKTtcbiAgICByZXR1cm4gdmlzaXRvcjtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0T3JDcmVhdGVWaXNpdG9yUmVmZXJlbmNlKCk6IFZpc2l0b3JSZWZlcmVuY2Uge1xuICAgIGNvbnN0IHNpdGVTdGF0ZVZpc2l0b3IgPSB0aGlzLmdldFNpdGVTdGF0ZSgpLnZpc2l0b3I7XG4gICAgaWYgKHNpdGVTdGF0ZVZpc2l0b3IgIT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gc2l0ZVN0YXRlVmlzaXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlVmlzaXRvcigpO1xuICB9XG5cbiAgcmVnaXN0ZXJTZXNzaW9uKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD4ge1xuICAgIHRoaXMuY3JlYXRlU2Vzc2lvbigpO1xuICAgIHJldHVybiB0aGlzLmZsdXNoKCk7XG4gIH1cblxuICBkZXJlZ2lzdGVyU2Vzc2lvbigpOiBQcm9taXNlPEV2ZW50UmVnaXN0cnlSZXN1bHQ+IHtcbiAgICB0aGlzLnNldFNlc3Npb25SZWZlcmVuY2UodW5kZWZpbmVkKTtcbiAgICByZXR1cm4gdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVTZXNzaW9uKCk6IFNlc3Npb24ge1xuICAgIGNvbnN0IHZpc2l0b3IgPSB0aGlzLmdldE9yQ3JlYXRlVmlzaXRvclJlZmVyZW5jZSgpO1xuICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgU2Vzc2lvbih2aXNpdG9yKTtcbiAgICB0aGlzLnNldFNlc3Npb25SZWZlcmVuY2Uoc2Vzc2lvbik7XG4gICAgdGhpcy5ldmVudFF1ZXVlLnB1c2goc2Vzc2lvbik7XG4gICAgcmV0dXJuIHNlc3Npb247XG4gIH1cblxuICBwcml2YXRlIGdldE9yQ3JlYXRlU2Vzc2lvblJlZmVyZW5jZSgpOiBTZXNzaW9uUmVmZXJlbmNlIHtcbiAgICBjb25zdCBzaXRlU3RhdGVTZXNzaW9uID0gdGhpcy5nZXRTaXRlU3RhdGUoKS5zZXNzaW9uO1xuICAgIGlmIChzaXRlU3RhdGVTZXNzaW9uICE9IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHNpdGVTdGF0ZVNlc3Npb247XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNyZWF0ZVNlc3Npb24oKTtcbiAgfVxuXG4gIHJlZ2lzdGVyU2VjdGlvbigpOiBQcm9taXNlPEV2ZW50UmVnaXN0cnlSZXN1bHQ+IHtcbiAgICB0aGlzLmNyZWF0ZVNlY3Rpb24oKTtcbiAgICByZXR1cm4gdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgZGVyZWdpc3RlclNlY3Rpb24oKTogUHJvbWlzZTxFdmVudFJlZ2lzdHJ5UmVzdWx0PiB7XG4gICAgdGhpcy5zZXRTZWN0aW9uUmVmZXJlbmNlKHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIHRoaXMuZmx1c2goKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlU2VjdGlvbigpOiBTZWN0aW9uIHtcbiAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5nZXRPckNyZWF0ZVNlc3Npb25SZWZlcmVuY2UoKTtcbiAgICBjb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oc2Vzc2lvbik7XG4gICAgdGhpcy5zZXRTZWN0aW9uUmVmZXJlbmNlKHNlY3Rpb24pO1xuICAgIHRoaXMuZXZlbnRRdWV1ZS5wdXNoKHNlY3Rpb24pO1xuICAgIHJldHVybiBzZWN0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRPckNyZWF0ZVNlY3Rpb25SZWZlcmVuY2UoKTogU2VjdGlvblJlZmVyZW5jZSB7XG4gICAgY29uc3Qgc2l0ZVN0YXRlU2VjdGlvbiA9IHRoaXMuZ2V0U2l0ZVN0YXRlKCkuc2VjdGlvbjtcbiAgICBpZiAoc2l0ZVN0YXRlU2VjdGlvbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBzaXRlU3RhdGVTZWN0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jcmVhdGVTZWN0aW9uKCk7XG4gIH1cblxuICByZWdpc3RlckNsaWNrKCk6IFByb21pc2U8RXZlbnRSZWdpc3RyeVJlc3VsdD4ge1xuICAgIHRoaXMuY3JlYXRlQ2xpY2soKTtcbiAgICByZXR1cm4gdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDbGljaygpOiBDbGljayB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuZ2V0T3JDcmVhdGVTZWN0aW9uUmVmZXJlbmNlKCk7XG4gICAgY29uc3QgY2xpY2sgPSBuZXcgQ2xpY2soc2VjdGlvbik7XG4gICAgdGhpcy5ldmVudFF1ZXVlLnB1c2goY2xpY2spO1xuICAgIHJldHVybiBjbGljaztcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJjaHVua0lkIiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93IiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJ0YWdOYW1lIiwidG9VcHBlckNhc2UiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJiIiwiYmFzZVVSSSIsInNlbGYiLCJocmVmIiwidXVpZCIsImdldFJhbmRvbVZhbHVlcyIsInJuZHM4IiwiVWludDhBcnJheSIsInJuZyIsImNyeXB0byIsImJpbmQiLCJieXRlVG9IZXgiLCJwdXNoIiwidG9TdHJpbmciLCJzbGljZSIsIl9zdGF0ZSIsInY3Qnl0ZXMiLCJybmRzIiwibXNlY3MiLCJzZXEiLCJidWYiLCJvZmZzZXQiLCJSYW5nZUVycm9yIiwiRGF0ZSIsIm5vdyIsIm9wdGlvbnMiLCJieXRlcyIsInJhbmRvbSIsInN0YXRlIiwidXBkYXRlVjdTdGF0ZSIsImFyciIsInRvTG93ZXJDYXNlIiwidW5zYWZlU3RyaW5naWZ5IiwiRXZlbnRUeXBlIiwiUmVnaXN0ZXJFdmVudEVycm9yIiwiRXZlbnRSZWdpc3RyeUVycm9yIiwiRXZlbnRQdWJsaXNoRXJyb3IiLCJFdmVudFB1Ymxpc2hlckNvbmZpZ3VyYXRpb25TdGF0ZSIsIlNpdGVTdGF0ZVJlcG9zaXRvcnlFcnJvciIsIldvcmtlck1lc3NhZ2VUeXBlIiwiaXNFdmVudFJlZmVyZW5jZSIsInZhbHVlIiwiZXZlbnRfdHlwZSIsImlkIiwiVHlwZUVycm9yIiwicGFyc2VJbnQiLCJWaXNpdG9yIiwiY29uc3RydWN0b3IiLCJ0b1B1Ymxpc2hFdmVudCIsInQiLCJhIiwidW5kZWZpbmVkIiwiU2Vzc2lvbiIsInBhcmVudCIsImF0dHJzIiwiU2VjdGlvbiIsIkNsaWNrIiwiaXNTaXRlU3RhdGVSZXBvc2l0b3J5RXJyb3IiLCJyZXN1bHQiLCJQUkVGSVgiLCJWSVNJVE9SX1NVRkZJWCIsIlNFU1NJT05fU1VGRklYIiwiYXBpX2tleSIsInNpdGVTdGF0ZVJlcG9zaXRvcnkiLCJ0cmltIiwic2VjdGlvbiIsImNsZWFyU2l0ZVN0YXRlIiwiY2xlYXJTZWN0aW9uIiwiY2xlYXJTZXNzaW9uIiwiY2xlYXJWaXNpdG9yIiwidmlzaXRvciIsInNlc3Npb24iLCJnZXRTaXRlU3RhdGUiLCJ2aXNpdG9yUmVzdWx0IiwiZ2V0VmlzaXRvciIsInNlc3Npb25SZXN1bHQiLCJnZXRTZXNzaW9uIiwiTWFsZm9ybWVkRGF0YSIsIkludGVybmFsRXJyb3IiLCJzZWN0aW9uUmVzdWx0IiwiZ2V0U2VjdGlvbiIsInNldFNpdGVTdGF0ZSIsInNldFNlY3Rpb24iLCJzZXRTZXNzaW9uIiwic2V0VmlzaXRvciIsImtleSIsImpvaW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiTm90Rm91bmQiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsInNlc3Npb25TdG9yYWdlIiwiZ2F0ZXdheSIsImNvbmZpZyIsImVycm9ySGFuZGxlciIsImNvbmZpZ3VyYXRpb25TdGF0ZSIsIkludmFsaWRBcGlLZXkiLCJob3N0IiwiVVJMIiwicGFyc2UiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJJbnZhbGlkSG9zdCIsIlN1Y2Nlc3MiLCJ2YWxpZGF0ZUV2ZW50UHVibGlzaGVyQ29uZmlndXJhdGlvbiIsInByb21pc2VSZWdpc3RyeSIsIndvcmtlclB1Ymxpc2hlciIsIldvcmtlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJtIiwicm91dGVNZXNzYWdlIiwibWVzc2FnZSIsInBvc3RDb25maWdSZXF1ZXN0IiwicHVibGlzaCIsImV2ZW50cyIsImNyZWF0ZVB1Ymxpc2hNZXNzYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWdpc3RlclB1Ymxpc2hQcm9taXNlIiwicG9zdFB1Ymxpc2hSZXF1ZXN0Iiwid29ya2VyTWVzc2FnZSIsImRhdGEiLCJtZXNzYWdlVHlwZSIsIkNvbmZpZ3VyZVJlc3VsdCIsInJlc29sdmVQdWJsaXNoIiwicmVzdWx0TWVzc2FnZSIsImhhbmRsZXJzIiwiUHVibGlzaFJlc3VsdCIsImVycm9yTWVzc2FnZSIsIlB1Ymxpc2hSZXF1ZXN0IiwicHVibGlzaE1lc3NhZ2UiLCJwb3N0TWVzc2FnZSIsImNvbmZpZ01lc3NhZ2UiLCJDb25maWd1cmVSZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsImV2ZW50TWFuYWdlciIsInB1Ymxpc2hlciIsImV2ZW50UXVldWUiLCJzaXRlU3RhdGVXcml0ZUJ1ZmZlciIsInJlcG9WYWx1ZSIsIndyaXRlU2l0ZVN0YXRlIiwic2V0VmlzaXRvclJlZmVyZW5jZSIsInNldFNlc3Npb25SZWZlcmVuY2UiLCJzZXRTZWN0aW9uUmVmZXJlbmNlIiwiZmx1c2giLCJwcm9taXNlIiwibWFwIiwidGhlbiIsIm1hcEV2ZW50UHVibGlzaFJlc3VsdFRvRXZlbnRSZWdpc3RyeVJlc3VsdCIsInB1YlJlcyIsIkJhZFJlcXVlc3QiLCJDb25maWd1cmF0aW9uRXJyb3IiLCJyZWdpc3RlclZpc2l0b3IiLCJjcmVhdGVWaXNpdG9yIiwiZGVyZWdpc3RlclZpc2l0b3IiLCJnZXRPckNyZWF0ZVZpc2l0b3JSZWZlcmVuY2UiLCJzaXRlU3RhdGVWaXNpdG9yIiwicmVnaXN0ZXJTZXNzaW9uIiwiY3JlYXRlU2Vzc2lvbiIsImRlcmVnaXN0ZXJTZXNzaW9uIiwiZ2V0T3JDcmVhdGVTZXNzaW9uUmVmZXJlbmNlIiwic2l0ZVN0YXRlU2Vzc2lvbiIsInJlZ2lzdGVyU2VjdGlvbiIsImNyZWF0ZVNlY3Rpb24iLCJkZXJlZ2lzdGVyU2VjdGlvbiIsImdldE9yQ3JlYXRlU2VjdGlvblJlZmVyZW5jZSIsInNpdGVTdGF0ZVNlY3Rpb24iLCJyZWdpc3RlckNsaWNrIiwiY3JlYXRlQ2xpY2siLCJjbGljayJdLCJzb3VyY2VSb290IjoiIn0=